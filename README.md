# Client Management System for Personal Training

A comprehensive web application for managing personal training clients, scheduling, and client data.

## ğŸ¯ Project Overview

This system helps personal trainers:
- Manage client registrations and profiles
- Schedule and track training sessions
- Collect client data through intake forms
- Communicate via WhatsApp integration
- Maintain separate admin and client dashboards

## ğŸ—ï¸ Tech Stack

- **Framework:** Next.js 14+ (TypeScript, App Router)
- **UI:** Tailwind CSS + shadcn/ui components
- **Database:** PostgreSQL (Railway-hosted)
- **ORM:** Prisma
- **Authentication:** NextAuth.js
- **Deployment:** Railway
- **Version Control:** GitHub

## ğŸ“‹ MVP Features (Phase 1)

âœ… Phase 1 Deliverables:
1. Client registration + Admin login
2. Role-based dashboards (Admin vs Client)
3. Profile creation/editing with intake form
4. Calendar/scheduling with WhatsApp notifications
5. Deployment to Railway

## ğŸš€ Getting Started

### Prerequisites

- Node.js 18+ installed
- PostgreSQL database (Railway)
- GitHub account
- Railway account

### Installation

1. **Clone the repository**
   ```bash
   git clone https://github.com/realcoachap/af.git
   cd af
   ```

2. **Install dependencies**
   ```bash
   npm install
   ```

3. **Set up environment variables**
   ```bash
   cp .env.example .env
   ```
   
   Edit `.env` with your actual values:
   - `DATABASE_URL`: Your Railway PostgreSQL connection string
   - `NEXTAUTH_SECRET`: Generate with `openssl rand -base64 32`
   - WhatsApp API credentials (when ready)

4. **Set up database**
   ```bash
   # Generate Prisma Client
   npx prisma generate
   
   # Push schema to database
   npx prisma db push
   
   # (Optional) Seed database with initial admin
   npm run seed
   ```

5. **Run development server**
   ```bash
   npm run dev
   ```
   
   Open [http://localhost:3000](http://localhost:3000)

## ğŸ“ Project Structure

```
client-management-system/
â”œâ”€â”€ app/                    # Next.js app directory
â”‚   â”œâ”€â”€ api/               # API routes
â”‚   â”œâ”€â”€ (auth)/            # Auth-related pages
â”‚   â”œâ”€â”€ (dashboard)/       # Dashboard pages
â”‚   â””â”€â”€ components/        # Shared components
â”œâ”€â”€ prisma/
â”‚   â””â”€â”€ schema.prisma      # Database schema
â”œâ”€â”€ lib/                   # Utility functions
â”œâ”€â”€ public/                # Static assets
â””â”€â”€ types/                 # TypeScript types
```

## ğŸ—„ï¸ Database Schema

### Users
- Authentication and role management
- Roles: ADMIN, CLIENT

### ClientProfile
- Extended client information
- Fitness goals, medical history, measurements
- Linked to User account

### Appointment
- Session scheduling
- Status tracking (SCHEDULED, CONFIRMED, COMPLETED, etc.)
- WhatsApp notification tracking

## ğŸ” Security

- Passwords hashed with bcrypt
- JWT-based authentication via NextAuth.js
- Role-based access control (RBAC)
- Environment variables for sensitive data
- HTTPS enforced in production

## ğŸš¢ Deployment

### Railway Setup

1. Create new Railway project
2. Add PostgreSQL database
3. Connect GitHub repository
4. Add environment variables in Railway dashboard
5. Deploy automatically on push to main

### Environment Variables (Railway)

Required variables:
- `DATABASE_URL` (auto-generated by Railway)
- `NEXTAUTH_URL` (your Railway app URL)
- `NEXTAUTH_SECRET`
- `WHATSAPP_API_KEY` (when configured)

## ğŸ“ Development Workflow

1. Create feature branch from `main`
2. Make changes, test locally
3. Run tests: `npm test`
4. Commit with descriptive message
5. Push to GitHub
6. Railway auto-deploys on merge to `main`

## ğŸ§ª Testing

```bash
# Run all tests
npm test

# Run tests in watch mode
npm run test:watch

# Run E2E tests
npm run test:e2e
```

## ğŸ“š Documentation

- [Project Plan](./docs/PROJECT_PLAN.md)
- [API Documentation](./docs/API.md)
- [Database Schema](./docs/DATABASE.md)
- [Deployment Guide](./docs/DEPLOYMENT.md)

## ğŸ¤ Contributing

This is a private project. Contact Coach for access.

## ğŸ“„ License

Private - All Rights Reserved

## ğŸ› Issues & Support

Create an issue in GitHub or contact Coach directly.

---

**Built by Vlad (AI Developer) for Coach's Personal Training Business**
